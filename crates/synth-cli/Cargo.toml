[package]
name = "synth-cli"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true

[[bin]]
name = "synth"
path = "src/main.rs"

[features]
default = []
awsm = ["synth-backend-awsm"]
wasker = ["synth-backend-wasker"]
verify = ["synth-verify"]

[dependencies]
synth-core = { path = "../synth-core" }
synth-frontend = { path = "../synth-frontend" }
synth-synthesis = { path = "../synth-synthesis" }
synth-backend = { path = "../synth-backend" }

# Optional external backends
synth-backend-awsm = { path = "../synth-backend-awsm", optional = true }
synth-backend-wasker = { path = "../synth-backend-wasker", optional = true }

# Optional verification (requires z3)
synth-verify = { path = "../synth-verify", optional = true, features = ["z3-solver", "arm"] }

clap.workspace = true
anyhow.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
serde_json.workspace = true
wat.workspace = true
wast.workspace = true
